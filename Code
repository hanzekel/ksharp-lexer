/*
 * A. SPECIFICATION & DATA TYPES
 * Purpose: Define the building blocks of the lexer.
 */

#include <stdio.h>
#include <stdlib.h>

// --------------------------------------
// ENUM: Token Types
// --------------------------------------
typedef enum {
    TOKEN_KEYWORD,
    TOKEN_IDENTIFIER,
    TOKEN_TYPE,
    TOKEN_OPERATOR,
    TOKEN_LITERAL,
    TOKEN_PUNCTUATION,
    TOKEN_COMMENT,
    TOKEN_EOF,
    TOKEN_UNKNOWN
} TokenType;

// --------------------------------------
// STRUCT: Token
// --------------------------------------
typedef struct {
    TokenType type;   // Type of the token
    char* value;      // Actual text value
    int line;         // Line number in source code
    int column;       // Column position in line
} Token;

// --------------------------------------
// STRUCT: Lexer
// --------------------------------------
typedef struct {
    const char* input;    // Full input source text
    int pos;              // Current position in input
    int line;             // Current line number
    int col;              // Current column number
    FILE* outputFile;     // File pointer for output (if needed)
} Lexer;

// --------------------------------------
// WORD DICTIONARIES
// --------------------------------------
static const char* KEYWORDS[] = {
    "if", "else", "while", "for", "return", "break", "continue", "switch", "case", "default", NULL
};

static const char* TYPES[] = {
    "int", "float", "double", "char", "void", "bool", "string", NULL
};

static const char* NOISE[] = {
    "the", "a", "an", "of", "in", "on", "to", "from", "and", "or", "but", NULL
};

// --------------------------------------
// FUNCTION PROTOTYPES (HEADERS)
// --------------------------------------
Token getNextToken(Lexer* lexer);
void initLexer(Lexer* lexer, const char* input);
void freeToken(Token* token);
int isKeyword(const char* word);
int isType(const char* word);
int isNoise(const char* word);
void printToken(const Token* token);
